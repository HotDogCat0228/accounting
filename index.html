<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­˜éŒ¢è¨˜å¸³ç¨‹å¼</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        
        // Firebase é…ç½® (è«‹æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›é…ç½®)
        const firebaseConfig = {
            apiKey: "AIzaSyDemoKeyForTesting1234567890",
            authDomain: "accounting-wallet-app.firebaseapp.com",
            projectId: "accounting-wallet-app",
            storageBucket: "accounting-wallet-app.appspot.com",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:abcdef1234567890"
        };
        
        // åˆå§‹åŒ– Firebase
        window.firebaseApp = initializeApp(firebaseConfig);
        window.db = getFirestore(window.firebaseApp);
        window.auth = getAuth(window.firebaseApp);
    </script>
</head>
<body>
    <div class="container">
        <!-- ç™»å…¥ç‹€æ…‹åˆ— -->
        <div id="authContainer" class="auth-container">
            <div id="loginSection" class="login-section">
                <p>è«‹ç™»å…¥ä»¥åŒæ­¥æ‚¨çš„éŒ¢åŒ…è³‡æ–™</p>
                <button id="loginBtn" class="btn btn-primary">Google ç™»å…¥</button>
            </div>
            <div id="userSection" class="user-section" style="display: none;">
                <div class="user-info">
                    <img id="userAvatar" class="user-avatar" src="" alt="ç”¨æˆ¶é ­åƒ">
                    <span id="userName">ç”¨æˆ¶åç¨±</span>
                </div>
                <button id="logoutBtn" class="btn btn-secondary">ç™»å‡º</button>
            </div>
        </div>
        
        <header>
            <h1>ğŸ’° æˆ‘çš„éŒ¢åŒ…ç®¡ç†</h1>
            <button id="addWalletBtn" class="add-wallet-btn">+ æ–°å¢éŒ¢åŒ…</button>
        </header>

        <div id="walletsContainer" class="wallets-container">
            <!-- éŒ¢åŒ…å¡ç‰‡æœƒåœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
        </div>

        <!-- æ–°å¢éŒ¢åŒ…çš„å½ˆå‡ºè¦–çª— -->
        <div id="addWalletModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>æ–°å¢éŒ¢åŒ…</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="walletName">éŒ¢åŒ…åç¨±ï¼š</label>
                        <input type="text" id="walletName" placeholder="ä¾‹å¦‚ï¼šæ—…éŠåŸºé‡‘ã€ç·Šæ€¥å‚™ç”¨é‡‘...">
                    </div>
                    <div class="form-group">
                        <label for="walletGoal">ç›®æ¨™é‡‘é¡ï¼ˆå¯é¸ï¼‰ï¼š</label>
                        <input type="number" id="walletGoal" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="initialAmount">åˆå§‹é‡‘é¡ï¼š</label>
                        <input type="number" id="initialAmount" placeholder="0" min="0">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelBtn" class="btn btn-secondary">å–æ¶ˆ</button>
                    <button id="saveWalletBtn" class="btn btn-primary">å„²å­˜</button>
                </div>
            </div>
        </div>

        <!-- å¢æ¸›é‡‘é¡çš„å½ˆå‡ºè¦–çª— -->
        <div id="transactionModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="transactionTitle">èª¿æ•´é‡‘é¡</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="transactionAmount">é‡‘é¡ï¼š</label>
                        <input type="number" id="transactionAmount" placeholder="0" min="0.01" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="transactionNote">å‚™è¨»ï¼ˆå¯é¸ï¼‰ï¼š</label>
                        <input type="text" id="transactionNote" placeholder="ä¾‹å¦‚ï¼šåˆé¤è²»ç”¨ã€è–ªæ°´å…¥å¸³...">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelTransactionBtn" class="btn btn-secondary">å–æ¶ˆ</button>
                    <button id="confirmTransactionBtn" class="btn btn-primary">ç¢ºèª</button>
                </div>
            </div>
        </div>

        <!-- ç·¨è¼¯éŒ¢åŒ…çš„å½ˆå‡ºè¦–çª— -->
        <div id="editWalletModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ç·¨è¼¯éŒ¢åŒ…</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editWalletName">éŒ¢åŒ…åç¨±ï¼š</label>
                        <input type="text" id="editWalletName" placeholder="éŒ¢åŒ…åç¨±">
                    </div>
                    <div class="form-group">
                        <label for="editWalletGoal">ç›®æ¨™é‡‘é¡ï¼š</label>
                        <input type="number" id="editWalletGoal" placeholder="0" min="0">
                        <small>è¨­å®šç‚º 0 è¡¨ç¤ºæ²’æœ‰ç›®æ¨™</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="deleteWalletBtn" class="btn btn-danger">åˆªé™¤éŒ¢åŒ…</button>
                    <button id="cancelEditBtn" class="btn btn-secondary">å–æ¶ˆ</button>
                    <button id="saveEditBtn" class="btn btn-primary">å„²å­˜</button>
                </div>
            </div>
        </div>
    </div>

    <script src="firebase-script.js"></script>
</body>
</html>
